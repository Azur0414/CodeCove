<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<!DOCTYPE html>
<html>
<head>
<title>굿굿 템플릿</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
</head>
<body>
	<h1>아이디 찾기</h1>
	<p>아이디 찾기는 이메일, 이름을 입력하여 찾을 수 있습니다.</p>
	<form action="" method="post">
		<input type="text" id="memName" placeholder="이름을 입력해주세요."/><br/>
		<input type="text" id="memEmail" placeholder="이메일을 입력해주세요."/>
        <p>회원님의 아이디는 <font>[ <a id="foundIdValue"></a> ]</font> 입니다.</p>
		<button type="button" id="findIdBtn">아이디찾기</button>
	</form>
	
	<br/>
	<br/>	
	
	<h1>비밀번호 찾기</h1>
	<p>아이디, 이름, 이메일을 입력하여 등록한 이메일로 임시 비밀번호를 받을 수 있습니다.</p>
	<form action="" method="post">
		<input type="text" id="memIdPw" placeholder="아이디를 입력해주세요."/><br/>
		<input type="text" id="memNamePw" placeholder="이름을 입력해주세요."/><br/>
		<input type="text" id="memEmailPw" placeholder="이메일을 입력해주세요."/>
        <p id="findPwValue"></p>
		<button type="button" id="findPwBtn">비밀번호 찾기</button>
	</form>
	
	
	<button type="button" id="loginBtn">로그인</button>
	
<script>

$(function() {
	var findIdBtn = $("#findIdBtn");
	var findPwBtn = $("#findPwBtn");
	var loginBtn = $("#loginBtn");
	
	// 아이디 찾기
	findIdBtn.on("click", function() {
		
		$.ajax({
			type : "post",
			url : "/idForget.do",
			data : 
				{
					memName : $("#memName").val(),
					memMail : $("#memEmail").val()
				},
			success : function(res) {
				$("#foundIdValue").html(res).css("color", "green");
			}
		});
	});
	
	
	// 비밀번호 찾기
	findPwBtn.on("click", function() {
		$.ajax({
			type : "post",
			url : "/pwForget.do",
			data : {
					memId : $("#memIdPw").val(),
					memName : $("#memNamePw").val(),
					memMail : $("#memEmailPw").val()
			},
			success : function() {
				$("#findPwValue").html("회원님의 비밀번호가 등록하신 이메일로 발송되었습니다.");
			}
		});
	});
	
	
	loginBtn.on("click", function() {
		location.href="/login.do";
		
	});
	
	
}); // end





</script>
</body>
</html>